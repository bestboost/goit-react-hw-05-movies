(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[155],{130:function(e,t,n){"use strict";var r=n(689),o=n(87),i=n(184);t.Z=function(e,t){var n=e.movies,c=t.error,a=(0,r.TH)();return(0,i.jsxs)("section",{children:[c&&(0,i.jsx)("p",{children:c}),(0,i.jsx)("ul",{children:n.map((function(e){return(0,i.jsx)("li",{children:(0,i.jsx)(o.rU,{to:"/movies/".concat(e.id),state:{from:a},children:e.title})},e.id)}))})]})}},692:function(e,t,n){"use strict";var r=n(7),o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmMDk2NDE3YzZmNTdkYmE2NjM3Yjg5ZTA1MTlkZjhjMCIsInN1YiI6IjY0ZDQ5NmNiYmYzMWYyMDFjZTY3NTk4MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.oUfYFt39LV0c4K3VhOIRVjLifgRGqlfBdeSL9BhgEbU"}};function i(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?language=en-US"),o).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something go wrong, please try again"))}))}function c(e){return fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1"),o).then((function(t){return t.ok?t.json():Promise.reject(new Error("Ther is no movie with name ".concat(e)))}))}function a(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?language=en-US"),o).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something go wrong, please try again"))}))}function s(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?language=en-US&page=1"),o).then((function(e){return e.ok?e.json():Promise.reject(new Error("We don't have reviews for this movie"))}))}({fetchMovieDetails:i,fetchSearchMovies:c,fetchCast:a,fetchReviews:s}).propTypes={movieId:n.n(r)().string};var u={fetchTrendingMovies:function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?language=en-US",o).then((function(e){return e.ok?e.json():Promise.reject("Something go wrong, please try again")}))},fetchMovieDetails:i,fetchSearchMovies:c,fetchCast:a,fetchReviews:s};t.Z=u},155:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r,o,i,c=n(439),a=n(791),s=n(87),u=n(168),h=n(867),p=(0,h.ZP)("form")(r||(r=(0,u.Z)(["\n  margin: 20px 10px;\n"]))),f=(0,h.ZP)("input")(o||(o=(0,u.Z)(["\n   width: 200px;\n"]))),l=(0,h.ZP)("button")(i||(i=(0,u.Z)(["\n     width: 75px;\n     box-shadow: inset 0px 0px 4px 2px rgba(0, 0, 255, .2);\n"]))),m=n(184),g=function(){var e=(0,s.lr)(),t=(0,c.Z)(e,2),n=t[0],r=t[1],o=(0,a.useState)(null),i=(0,c.Z)(o,1)[0],u=n.get("query");return(0,m.jsxs)("section",{children:[i&&(0,m.jsx)("p",{children:i}),(0,m.jsxs)(p,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;if(""===t)return r({});r({query:t.elements.query.value}),t.reset()},children:[(0,m.jsx)(f,{type:"text",name:"query"}),(0,m.jsx)(l,{type:"submit",children:"Search"})]}),""===u&&(0,m.jsx)("p",{children:"Search bar is empty, please type movie name"})]})},v=n(130),d=n(692),j=function(){var e=(0,s.lr)(),t=(0,c.Z)(e,1)[0].get("query"),n=(0,a.useState)([]),r=(0,c.Z)(n,2),o=r[0],i=r[1],u=(0,a.useState)(null),h=(0,c.Z)(u,2),p=h[0],f=h[1];return(0,a.useEffect)((function(){t&&null!==t&&d.Z.fetchSearchMovies(t).then((function(e){var t=e.results;return i(t)})).catch((function(e){return f(e)}))}),[t]),(0,m.jsxs)("main",{children:[(0,m.jsx)(g,{}),(0,m.jsx)(v.Z,{movies:o,error:p})]})}},888:function(e,t,n){"use strict";var r=n(47);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,c){if(c!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=155.83e01ec7.chunk.js.map