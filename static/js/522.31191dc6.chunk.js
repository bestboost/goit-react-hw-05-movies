(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[522],{522:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(439),i=n(791),c=n(87),o=n(7),s=n.n(o);function a(e){return fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1"),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmMDk2NDE3YzZmNTdkYmE2NjM3Yjg5ZTA1MTlkZjhjMCIsInN1YiI6IjY0ZDQ5NmNiYmYzMWYyMDFjZTY3NTk4MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.oUfYFt39LV0c4K3VhOIRVjLifgRGqlfBdeSL9BhgEbU"}}).then((function(t){return t.ok?t.json():Promise.reject(new Error("Ther is no movie with name ".concat(e)))}))}var u={fetchSearchMovies:a};a.propTypes={query:s().string};var p,h,f,l=u,m=n(168),d=n(867),y=(0,d.ZP)("form")(p||(p=(0,m.Z)(["\n  margin: 20px 10px;\n"]))),x=(0,d.ZP)("input")(h||(h=(0,m.Z)(["\n   width: 200px;\n"]))),j=(0,d.ZP)("button")(f||(f=(0,m.Z)(["\n     width: 75px;\n     box-shadow: inset 0px 0px 4px 2px rgba(0, 0, 255, .2);\n"]))),v=n(184),b=function(){var e=(0,c.lr)(),t=(0,r.Z)(e,2),n=t[0],o=t[1],s=(0,i.useState)(null),a=(0,r.Z)(s,2),u=a[0],p=a[1],h=n.get("query");return(0,i.useEffect)((function(){h&&l.fetchSearchMovies(h).catch((function(e){return p(e)}))}),[h]),(0,v.jsxs)("section",{children:[u&&(0,v.jsx)("p",{children:u}),(0,v.jsxs)(y,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;if(""===t)return o({});o({query:t.elements.query.value}),t.reset()},children:[(0,v.jsx)(x,{type:"text",name:"query"}),(0,v.jsx)(j,{type:"submit",children:"Search"})]}),""===h&&(0,v.jsx)("p",{children:"Search bar is empty, please type movie name"})]})},T=n(689),g=function(){var e=(0,c.lr)(),t=(0,r.Z)(e,1)[0],n=(0,T.TH)(),o=t.get("query"),s=(0,i.useState)([]),a=(0,r.Z)(s,2),u=a[0],p=a[1],h=(0,i.useState)(null),f=(0,r.Z)(h,2),m=f[0],d=f[1];return(0,i.useEffect)((function(){null!==o&&l.fetchSearchMovies(o).then((function(e){return e.results})).then((function(e){return p(e)})).catch((function(e){return d(e)}))}),[o]),(0,v.jsxs)("section",{children:[m&&(0,v.jsx)("p",{children:m}),(0,v.jsx)("ul",{children:u.map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)(c.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.title})},e.id)}))})]})},Z=function(){return(0,v.jsxs)("main",{children:[(0,v.jsx)(b,{}),(0,v.jsx)(g,{})]})}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function c(){}c.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,c,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=522.31191dc6.chunk.js.map